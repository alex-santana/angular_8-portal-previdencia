<div class="container main-container" style="margin-top: 100px;">
    <form #f="ngForm" class="form-horizontal" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <div class="col-sm-12"><label for="name" class="control-label">Nome</label></div>

            <div class="col-sm-12">
                <input type="text" class="form-control" [ngClass]="addCssError('name')" formControlName="name" id="name"
                    placeholder="Informe o Nome">

                <app-field-control-error [showError]="checkValidTouched('name')" msgError="Nome é obrigatório.">
                </app-field-control-error>


            </div>
        </div>
        
            <div class="form-group">
                <div class="col-sm-12"><label for="email" class="control-label">Email</label></div>

                <div class="col-sm-12"><input type="text" class="form-control" [ngClass]="addCssError('email')"
                        id="email" formControlName="email" placeholder="nome@email.com">
                    <app-field-control-error [showError]="checkValidTouched('email')" msgError="Email é obrigatório.">
                    </app-field-control-error>
                </div>
            </div>
            <div formGroupName="address">
            <div class="form-group row px-3">

                <div class="col-sm-3">
                    <label for="zipcode" class="control-label">Cep</label>
                    <input type="text" class="form-control" [ngClass]="addCssError('address.zipcode')" id="zipcode"
                        formControlName="zipcode" (blur)="searchZipCode()">
                    <app-field-control-error [showError]="checkValidTouched('address.zipcode')" msgError="Cep é obrigatório.">
                    </app-field-control-error>

                </div>

                <div class="col-sm-3">
                    <label for="number" class="control-label">Número</label>
                    <input type="text" class="form-control" [ngClass]="addCssError('address.number')" id="number"
                        formControlName="number">
                    <app-field-control-error [showError]="checkValidTouched('address.number')" msgError="Número é obrigatório.">
                    </app-field-control-error>

                </div>
                <div class="col-sm-6">
                    <label for="street" class="control-label">Logradouro</label>
                    <input type="text" class="form-control" [ngClass]="addCssError('address.street')" id="street"
                        formControlName="street">
                    <app-field-control-error [showError]="checkValidTouched('address.street')" msgError="Número é obrigatório.">
                    </app-field-control-error>

                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-6"><label for="complement" class="control-label">Complemento</label></div>

                <div class="col-sm-6"><input type="text" class="form-control" id="complement"
                        formControlName="complement">

                </div>
            </div>

            <div class="form-group row px-3">

                <div class="col-sm-5">
                    <label for="district" class="control-label">Bairro</label>
                    <input type="text" class="form-control" [ngClass]="addCssError('address.district')" id="district"
                        formControlName="district">
                    <app-field-control-error [showError]="checkValidTouched('address.district')"
                        msgError="Bairro é obrigatório.">
                    </app-field-control-error>

                </div>

                <div class="col-sm-4">
                    <label for="city" class="control-label">Cidade</label>
                    <input type="text" class="form-control" [ngClass]="addCssError('address.city')" id="city"
                        formControlName="city">
                    <app-field-control-error [showError]="checkValidTouched('address.city')" msgError="Cidade é obrigatório.">
                    </app-field-control-error>

                </div>
                <div class="col-sm-3">
                    <label for="state" class="control-label">Estado</label>
                    <select class="form-control" [ngClass]="addCssError('address.state')" id="street"
                        formControlName="state">
                        <option *ngFor="let estado of estados$ | async" [value]="estado.sigla">{{estado.nome}}</option>
                    </select>
                    <app-field-control-error [showError]="checkValidTouched('address.state')" msgError="Estado é obrigatório.">
                    </app-field-control-error>

                </div>
            </div>
        </div>
        <div class="mt-5">
            <button type="submit" class="btn btn-outline-primary mx-3">Gravar</button>
            <button type="button" class="btn btn-outline-danger" (click)="resetform()">Cancelar</button>
        </div>

        <app-form-debug [form]="f"></app-form-debug>
    </form>


</div>